## HTTP无状态

HTTP是短连接，即每次“请求-响应”都是一次TCP连接。比如用户一次请求就是一次TCP连接，服务器响应结束后断开连接。而每次TCP连接是没有关联的，因此HTTP是无状态的。这是为了更快处理事务，确保协议的可伸缩性

Cookie管理状态

https://www.cnblogs.com/liguangsunls/p/7248357.html

## HTTP1.0的短连接

HTTP 1.0规定浏览器与server仅仅保持短暂的连接。浏览器的每次请求都须要与server建立一个TCP连接，server完毕请求处理后马上断开TCP连接，server不跟踪每一个客户也不记录过去的请求。这个过程大概能够描写叙述为：

1、建立连接：首先DNS解析过程。如把域名变成一个ip。假设url不包括port号，则会使用该协议的默认port号，HTTP协议的默认port号为80。然后三次握手建立一个TCP连接；

2、请求：连接成功后，開始向webserver发送请求。这个请求通常是GET或POST请求。

3、应答：webserver收到这个请求，进行处理。webserver会把文件内容传送给响应的web浏览器。包括：HTTP头信息，体信息。

4、关闭连接：当应答结束后，web浏览器与webserver必须四次握手断开连接，以保证其它web浏览器能够与webserver建立连接。

## HTTP1.1的长连接

可是HTTP1.1開始默认建立的是长连接，即一旦浏览器发起HTTP请求，建立的连接不会请求应答之后立马断掉。

**1、 一个复杂的具备非常多HTTP资源的网页会建立多少TCP连接，怎样使用这些连接？**

**2、 已经建立的TCP连接是否会自己主动断开。时间是多久？**

对于第一个问题。如今浏览器都有最大并发连接数限制。应该说假设须要，就会尽量在同意范围内建立很多其它的TCP持久连接来处理HTTP请求，相同滴。一个TCP持久连接能够不断传输多个HTTP请求。可是假设上一个请求的响应还未收到，则不能处理下一个请求(Pipeling管道技术能够解决问题从而进一步提升性能)，所以说非常多浏览器事实上都能够改动同意最大并发连接数以提升浏览网页的速度。

对于第二个问题。

问题在于server端对于长连接的实现，特别是在对长连接的维护上。

FTP协议及SMTP协议中有NOOP消息，这个就能够觉得是心跳报文。但HTTP协议没有相似的消息，这样server端仅仅能使用超时断开的策略来维护连接。

设想超时时间非常短。那么有效空暇时间就非常短。换句话讲：一旦链路上没有数据发送，server端非常快就关闭连接。

也就是说事实上HTTP的长连接非常easy在空暇后自己主动断开，一般来说这个时间是300s左右。

# HTTPS

https://www.sohu.com/a/294450321_100134138

https://mp.weixin.qq.com/s/p8acdwIYA-rbzL65wQ5TBQ

易懂 https://www.cnblogs.com/hld123/p/15255526.html

​		https://www.zhihu.com/search?type=content&q=https

HTTPS要使客户端与服务器端的通信过程得到安全保证，必须使用的对称加密算法，但是协商对称加密算法的过程，需要使用非对称加密算法来保证安全，然而直接使用非对称加密的过程本身也不安全，会有中间人篡改公钥的可能性，所以客户端与服务器不直接使用公钥，而是使用数字证书签发机构颁发的证书来保证非对称加密过程本身的安全。

这样通过这些机制协商出一个对称加密算法，就此双方使用该算法进行加密解密。从而解决了客户端与服务器端之间的通信安全问题